<!DOCTYPE html>
<html lang="en">
<head>
     <!-- Required meta tags -->
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
     <!-- Bootstrap CSS -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
     {% block css %}
     
     <link rel="stylesheet" href="{{ url_for('static',filename='css/style.css')}}">
     {% endblock css %}
    <title>add-driver</title>
</head>

<body onload= "getLocation();">
    <div class="container mt-5">

        <div class="row">
        
        
        <div class="col-md-3">
        
        </div>
        
        <div class="col-md-6">
         
        <h4 class="text-center  text-danger">Book Ambulance</h4>

      
        
<form action="/book" method="post" class="jumbotron" >
    <div class="form-group">
    
      <input type="text" class="form-control" id="name" name="name" placeholder="Full Name" required>
    
    </div>
    <div class="form-group">
    
      <input type="text" class="form-control" id="pemail" name="pemail" placeholder="Enter your email" required>
    
    </div>
  
    <div class="form-group">
  
      <input type="number" class="form-control" id="number" name="number" placeholder="Phone Number" required>
    
    </div>
   



   <div class="form-group">
  
              
    <select class="form-control" id="email" name="email" placeholder="Select Provider Email"  required>
      <option  selected>Select Provider </option>
      
      {% for u in use  %}
      <option value="{{u.email}}">{{u.username}}</option>
      {% endfor %}

    </select>
</div>
 <div class="form-group">
    <select class="form-control" id="vtype"  name="vtype"  required>
      <option selected>Select Ambulance Type</option>
      <option value="Basic Life Support Ambulance">Basic Life Support Ambulance</option>
      <option value="Advance Life Support Ambulance">Advance Life Support Ambulance</option>
      <option value="Patient Transfer Ambulance">Patient Transfer Ambulance</option>
      <option value="Mortuary Ambulance">Mortuary Ambulance</option>

    </select>
 </div>
    
      <div class="form-group">
      
        <input type="hidden" name="latitude" value="">
        <input type="hidden" name="longitude" value="">
      
      </div>
      

        <button type="submit" onclick="return confirm('Are you sure to book the Vehicle');" class="btn btn-success btn-sm btn-block">Book</button>
  </form>

   
  
   Not Needed <a href="/">Go back</a> then!
  <br>
  
        
       
       
        
    </div>
        
   
        
        
        </div>
        
        </div>
    
  <!--<form action="/book" class="myForm" method="post" autocomplete="off">
    <input type="text" name="latitude" value="">
    <input type="text" name="longitude" value="">
  </form>
</body>
-->



<script type="text/javascript">
  
  function getLocation(){  
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(showPosition,showError,options);
    }
  }
    function showPosition(position){
      document.querySelector('.jumbotron input[name="latitude"]').value = position.coords.latitude;
      document.querySelector('.jumbotron input[name="longitude"]').value = position.coords.longitude;
      console.log(position);
      const{latitude,longitude}=position.coords;
      
    }
   function showError(error){
    switch(error.code){
      case error.PERMISSION_DENIED:
      alert("You must allow request for Geo location");
    }
  }
  

  const options ={
    enableHighAccuracy:true,
    timeout:5000,
    maximumAge:5,
  
  };

  
    

</script>
</html>





